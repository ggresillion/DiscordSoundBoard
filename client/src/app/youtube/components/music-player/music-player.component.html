<mat-card class="player-container">
  {{status.status}}
  <button mat-button style="border-left: 1px solid #ddd;" (click)='previousSong();'
          [disabled]="status.status === 'idle'">
    <mat-icon aria-hidden="true">skip_previous</mat-icon>
  </button>
  <button mat-button (click)='playBtnHandler();'
          style="border-left: 2px solid #ccc; border-right: 2px solid #ccc;"
          [disabled]="status.status === 'idle'">
    <mat-icon *ngIf="status.status === 'playing' || status.status === 'idle'">play_arrow</mat-icon>
    <mat-icon *ngIf="status.status === 'paused'">pause</mat-icon>
  </button>
  <button mat-button style="border-right: 1px solid #ddd;" (click)='nextSong();'
          [disabled]="status.status === 'idle'">
    <mat-icon aria-hidden="true">skip_next</mat-icon>
  </button>

  <div class="player-progress">
    <span *ngIf="duration !== 0.01">{{currentTime | secondsToMinutes}}</span>
    <mat-slider style="width: 100%" min="0" max="{{duration}}" value="{{currentTime}}"
                (change)="currTimePosChanged($event)"></mat-slider>
    <span *ngIf="duration !== 0.01">-{{duration - currentTime | secondsToMinutes }}</span>
  </div>
</mat-card>

<mat-card *ngIf="displayTitle" style="border: 1px solid #ddd; box-shadow: none;">
  <div style="text-align: center;">
    <div style="padding:1px 3px;">
      <span *ngIf="!isPlaying">{{ playlistTrack[1].title }}</span>
      <marquee *ngIf="isPlaying" behavior="scroll" direction="left">{{ playlistTrack[1].title }}</marquee>
    </div>
    <div class="clear"></div>
  </div>
</mat-card>

<mat-accordion class="playlist-container" *ngIf="displayPlaylist">
  <mat-expansion-panel [expanded]="expanded">
    <mat-expansion-panel-header>
      Play List
    </mat-expansion-panel-header>
    <table class="playlist-content" mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title</th>
        <td mat-cell *matCellDef="let element" (click)="selectTrack(element.index)"> {{element.title}} </td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <div class="playlist-play" *ngIf="playlistTrack[1].title === element.title">
            <mat-icon *ngIf="isPlaying">loader</mat-icon>
            <mat-icon *ngIf="!isPlaying">play_arrow</mat-icon>
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
  </mat-expansion-panel>
</mat-accordion>
